@using Microsoft.AspNet.Identity
@if (Request.IsAuthenticated)
{
    string userName = User.Identity.GetUserName();

    <!-- Menu Toggle Button -->
    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
        <span><i class="fa fa-user" aria-hidden="true" style="color: #00A65A"></i>&nbsp;&nbsp;@userName</span>
    </a>

    <ul class="dropdown-menu">
        <!-- Menu Footer-->
        <li class="user-footer">
            <div style="margin-bottom: 3px">
                @Html.ActionLink("Vào trang cá nhân", "Index", "Members", routeValues: new { username = userName }, htmlAttributes: new { @class = "btn btn-success btn-flat btn-block" })
            </div>
            <div>
                @using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "signOutForm" }))
                {
                    @Html.AntiForgeryToken()
                    <a href="javascript:document.getElementById('signOutForm').submit()" class="btn btn-default btn-flat btn-block">Đăng thoát</a>
                }
            </div>
        </li>
    </ul>
}
else
{
    <!-- hidden-xs hides the username on small devices so only the image appears. -->
    @Html.ActionLink("Log in", "Login", "Account", routeValues: null, htmlAttributes: new { id = "loginLink", @class = "hidden-xs" })
}
